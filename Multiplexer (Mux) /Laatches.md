Latches are created when you create a combinational process or conditional assignment in VHDL, or a combinational always block in Verilog with an output that is not assigned under all possible input conditions. 

This creates an incomplete assignment by the synthesis tools and the assignment of the output is not complete under all input possibilities:

**Latch Creation with Incomplete Assignment in Combinational Process**

```
library ieee;
use ieee.std_logic_1164.all;

entity bad_latch is
  port(
  i_data : in std_logic;
  i_enable : in std_logic;
  o_latch : out std_logic
  );
end bad_latch;

architecture rtl of bad_latch is begin

  process (i_data, i_enable)
  begin
    if i_enable = '1' then
      o_latch <= i_data;
    end if;
  end process;

end architecture rtl;
```

The problem with the code above is when `i_enable` is 0, it is undefined. The tools assume that when I_enable is 0, the value on the o_latch shouldn't change, and since this is combination logic (no clock is being used) this infers a latch.

**Latch Creation with Incomplete Assignment in Conditional  Assignment**

```
library ieee;
use ieee.std_logic_1164.all;

entity bad_latch_2 is
  port (
    i_select : in std_logic_vector(1 downto 0);
    o_latch : out std_logic_vector(3 downto 0)
    );
end bad_latch2;

architecture rtl of badlatch_2 is
begin

--incomplete assignment:
  o_latch <= "0101' when i_select = "00" else
             "0111" when i_select = "01" else
             "1111" when i_select = "10";

  -- Fixed!
  -- o_latch <= "0101" when i_select = "00" else
  -- "0111" when i_select = "01" else
  -- "1111" when i_select = "10" else
  -- (others => '0');

end architecture rtl;
```

Here, we forget to specify all possible input combinations of `i_select`. What happens to o_latch when i_select= '11'?
This creates an incomplete assignment and therefore craetes a latch.
To fix te code above, the digital designer can specify what hapens when `i_select="11"` pr they can use the else clause with no when  attached to it. The latter is more flexible.

If the width of i_select changes from two bits to three bits your code will still not create a latch.

**Latches are generated by combinational logic only! Be careful when you are writing combinational code!
**

## “How do you fix the first case if the intention actually is to hold the past value?”
## Solution:
Change:
if i_enable = ‘1’ then
o_latch <= i_data;
end if;

To:
if i_enable = '1' then
o_latch <= i_data;
else
o_latch <= '0';
end if;
